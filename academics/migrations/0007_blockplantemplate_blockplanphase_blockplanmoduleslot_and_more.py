# Generated by Django 5.2.8 on 2026-01-04 18:39

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('academics', '0006_qctoassessmentcriteria'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='BlockPlanTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('name', models.CharField(help_text="e.g., 'Standard 12-Month Full-Time'", max_length=200)),
                ('description', models.TextField(blank=True)),
                ('delivery_mode', models.CharField(choices=[('FULL_TIME', 'Full-Time (Contact)'), ('PART_TIME', 'Part-Time'), ('BLENDED', 'Blended Learning'), ('DISTANCE', 'Distance Learning')], default='FULL_TIME', max_length=20)),
                ('total_weeks', models.PositiveIntegerField(help_text='Total duration in weeks')),
                ('contact_days_per_week', models.PositiveIntegerField(default=5, help_text='Training days per week')),
                ('hours_per_day', models.PositiveIntegerField(default=6, help_text='Total hours per training day')),
                ('classroom_hours_per_day', models.PositiveIntegerField(default=2, help_text='Classroom/theory hours per day')),
                ('practical_hours_per_day', models.PositiveIntegerField(default=4, help_text='Practical hours per day')),
                ('is_default', models.BooleanField(default=False, help_text='Default template for new cohorts')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('ACTIVE', 'Active'), ('ARCHIVED', 'Archived')], default='DRAFT', max_length=10)),
                ('version', models.CharField(default='1.0', max_length=20)),
                ('effective_from', models.DateField(blank=True, null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('qualification', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='block_plan_templates', to='academics.qualification')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Block Plan Template',
                'verbose_name_plural': 'Block Plan Templates',
                'ordering': ['qualification', '-is_default', 'name'],
            },
        ),
        migrations.CreateModel(
            name='BlockPlanPhase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('phase_type', models.CharField(choices=[('INSTITUTIONAL', 'Institutional Training'), ('WORKPLACE_STINT', 'Workplace Stint')], max_length=20)),
                ('name', models.CharField(help_text="e.g., 'Phase 1 - Knowledge Modules' or 'Stint 1'", max_length=100)),
                ('sequence', models.PositiveIntegerField(help_text='Order in the overall plan')),
                ('duration_weeks', models.PositiveIntegerField()),
                ('year_level', models.PositiveIntegerField(default=1, help_text='Which year of study (1, 2, or 3)')),
                ('description', models.TextField(blank=True)),
                ('color', models.CharField(default='blue', help_text='Color for Gantt chart display', max_length=20)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='phases', to='academics.blockplantemplate')),
            ],
            options={
                'verbose_name': 'Block Plan Phase',
                'verbose_name_plural': 'Block Plan Phases',
                'ordering': ['template', 'sequence'],
            },
        ),
        migrations.CreateModel(
            name='BlockPlanModuleSlot',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('sequence', models.PositiveIntegerField(help_text='Order within the phase')),
                ('classroom_sessions', models.PositiveIntegerField(default=1, help_text='Number of classroom/theory sessions (2 hours each)')),
                ('practical_sessions', models.PositiveIntegerField(default=1, help_text='Number of practical sessions (4 hours each)')),
                ('total_days', models.PositiveIntegerField(help_text='Total training days for this module')),
                ('notes', models.TextField(blank=True, help_text='Delivery notes for this module')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('linked_outcomes', models.ManyToManyField(blank=True, help_text='Unit standards/outcomes covered in this module slot', related_name='block_plan_slots', to='academics.unitstandard')),
                ('module', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='block_plan_slots', to='academics.module')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('phase', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='module_slots', to='academics.blockplanphase')),
            ],
            options={
                'verbose_name': 'Block Plan Module Slot',
                'verbose_name_plural': 'Block Plan Module Slots',
                'ordering': ['phase', 'sequence'],
                'unique_together': {('phase', 'sequence')},
            },
        ),
        migrations.CreateModel(
            name='LessonPlanTemplate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('session_number', models.PositiveIntegerField(help_text='Session number within the module (1, 2, 3...)')),
                ('topic', models.CharField(max_length=200)),
                ('learning_outcomes', models.JSONField(default=list, help_text='List of learning outcomes for this session')),
                ('classroom_duration_minutes', models.PositiveIntegerField(default=120)),
                ('classroom_introduction', models.TextField(blank=True, help_text='Opening activity, ice-breaker, and context setting')),
                ('classroom_topics', models.JSONField(default=list, help_text='List of theory topics with duration and content')),
                ('discussion_questions', models.JSONField(default=list, help_text='Discussion questions to engage learners')),
                ('key_concepts', models.JSONField(default=list, help_text='Key concepts learners must understand')),
                ('classroom_summary', models.TextField(blank=True, help_text='Summary and transition to practical (10 min)')),
                ('practical_duration_minutes', models.PositiveIntegerField(default=240)),
                ('safety_briefing', models.TextField(blank=True, help_text='Safety briefing and PPE requirements')),
                ('practical_activities', models.JSONField(default=list, help_text='Practical activities with instructions')),
                ('demonstration_notes', models.TextField(blank=True, help_text='What the facilitator should demonstrate')),
                ('practical_debrief', models.TextField(blank=True, help_text='Review, Q&A, and feedback session')),
                ('resources_required', models.JSONField(default=list, help_text='Resources and materials needed')),
                ('equipment_list', models.JSONField(default=list, help_text='Equipment and tools required')),
                ('consumables_list', models.JSONField(default=list, help_text='Consumable materials needed')),
                ('has_assessment', models.BooleanField(default=False)),
                ('assessment_type', models.CharField(blank=True, help_text='e.g., Quiz, Practical demonstration, Observation', max_length=50)),
                ('assessment_criteria', models.JSONField(default=list, help_text='Assessment criteria for this session')),
                ('assessment_notes', models.TextField(blank=True)),
                ('facilitator_notes', models.TextField(blank=True, help_text='Additional guidance for facilitators')),
                ('preparation_checklist', models.JSONField(default=list, help_text='Pre-session preparation checklist')),
                ('common_mistakes', models.JSONField(default=list, help_text='Common learner mistakes to watch for')),
                ('differentiation_notes', models.TextField(blank=True, help_text='How to adapt for different learner needs')),
                ('is_approved', models.BooleanField(default=False)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_lesson_plans', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('module', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lesson_plans', to='academics.module')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Lesson Plan Template',
                'verbose_name_plural': 'Lesson Plan Templates',
                'ordering': ['module', 'session_number'],
                'unique_together': {('module', 'session_number')},
            },
        ),
    ]
