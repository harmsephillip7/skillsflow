# Generated by Django 5.2.8 on 2026-01-14 07:09

import django.core.validators
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('name', models.CharField(help_text='Department name (e.g., Human Resources, Finance, Operations)', max_length=200)),
                ('code', models.CharField(help_text='Unique department code (e.g., HR, FIN, OPS)', max_length=50, unique=True)),
                ('description', models.TextField(blank=True, help_text='Description of department function and responsibilities')),
                ('is_active', models.BooleanField(default=True, help_text='Whether department is currently active')),
                ('sort_order', models.PositiveIntegerField(default=0, help_text='Display order within parent department')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('parent', models.ForeignKey(blank=True, help_text='Parent department for hierarchical structure', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='children', to='hr.department')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'Departments',
                'ordering': ['sort_order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Position',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('title', models.CharField(help_text='Job title (e.g., Senior Software Developer, HR Manager)', max_length=200)),
                ('code', models.CharField(help_text='Unique position code (e.g., SSD-001, HRM-001)', max_length=50, unique=True)),
                ('job_description', models.FileField(blank=True, help_text='Job description document (PDF, DOC, DOCX)', null=True, upload_to='hr/job_descriptions/%Y/%m/')),
                ('job_description_text', models.TextField(blank=True, help_text='Job description text summary or full text')),
                ('minimum_qualifications', models.TextField(blank=True, help_text='Minimum qualifications required for the position')),
                ('preferred_qualifications', models.TextField(blank=True, help_text='Preferred/desired qualifications')),
                ('experience_required', models.CharField(blank=True, help_text='Experience requirement (e.g., 3-5 years)', max_length=100)),
                ('salary_band', models.CharField(blank=True, choices=[('ENTRY', 'Entry Level'), ('JUNIOR', 'Junior'), ('MID', 'Mid-Level'), ('SENIOR', 'Senior'), ('LEAD', 'Lead/Principal'), ('MANAGER', 'Manager'), ('DIRECTOR', 'Director'), ('EXECUTIVE', 'Executive')], help_text='Salary band/grade for this position', max_length=20)),
                ('salary_min', models.DecimalField(blank=True, decimal_places=2, help_text='Minimum salary for this position', max_digits=12, null=True)),
                ('salary_max', models.DecimalField(blank=True, decimal_places=2, help_text='Maximum salary for this position', max_digits=12, null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Whether position is currently active/open')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department this position belongs to (leave blank for company-wide positions)', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='positions', to='hr.department')),
                ('reports_to', models.ForeignKey(blank=True, help_text='Position this role reports to', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='direct_reports', to='hr.position')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Position',
                'verbose_name_plural': 'Positions',
                'ordering': ['department__name', 'title'],
            },
        ),
        migrations.CreateModel(
            name='PositionTask',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('title', models.CharField(help_text='Task title (e.g., Conduct performance reviews)', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Detailed task description and expectations')),
                ('priority', models.CharField(choices=[('CRITICAL', 'Critical'), ('HIGH', 'High'), ('MEDIUM', 'Medium'), ('LOW', 'Low')], default='MEDIUM', help_text='Task priority level', max_length=20)),
                ('weight', models.DecimalField(decimal_places=2, default=0, help_text='Weight for performance evaluation (percentage, total should be 100%)', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('frequency', models.CharField(choices=[('DAILY', 'Daily'), ('WEEKLY', 'Weekly'), ('MONTHLY', 'Monthly'), ('QUARTERLY', 'Quarterly'), ('ANNUALLY', 'Annually'), ('AS_NEEDED', 'As Needed'), ('ONGOING', 'Ongoing')], default='ONGOING', help_text='How often this task should be performed', max_length=20)),
                ('sort_order', models.PositiveIntegerField(default=0, help_text='Display order within position')),
                ('is_active', models.BooleanField(default=True, help_text='Whether task is currently active')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('position', models.ForeignKey(help_text='Position this task belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='tasks', to='hr.position')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Position Task',
                'verbose_name_plural': 'Position Tasks',
                'ordering': ['sort_order', '-priority', 'title'],
            },
        ),
        migrations.CreateModel(
            name='StaffProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('employee_number', models.CharField(help_text='Unique employee number/ID', max_length=50, unique=True)),
                ('employment_type', models.CharField(choices=[('FULL_TIME', 'Full Time'), ('PART_TIME', 'Part Time'), ('CONTRACT', 'Contract'), ('INTERN', 'Intern'), ('TEMPORARY', 'Temporary')], default='FULL_TIME', help_text='Type of employment', max_length=20)),
                ('employment_status', models.CharField(choices=[('ACTIVE', 'Active'), ('ON_LEAVE', 'On Leave'), ('SUSPENDED', 'Suspended'), ('PROBATION', 'Probation'), ('NOTICE', 'Notice Period'), ('TERMINATED', 'Terminated'), ('RESIGNED', 'Resigned')], default='ACTIVE', help_text='Current employment status', max_length=20)),
                ('date_joined', models.DateField(help_text='Date staff member joined the company')),
                ('probation_end_date', models.DateField(blank=True, help_text='End date of probation period', null=True)),
                ('termination_date', models.DateField(blank=True, help_text='Date of termination (if applicable)', null=True)),
                ('current_salary', models.DecimalField(blank=True, decimal_places=2, help_text='Current salary (confidential)', max_digits=12, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes about this staff member')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(blank=True, help_text='Department this staff member belongs to', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='staff_members', to='hr.department')),
                ('position', models.ForeignKey(blank=True, help_text='Current position held by this staff member', null=True, on_delete=django.db.models.deletion.PROTECT, related_name='staff_members', to='hr.position')),
                ('reports_to', models.ForeignKey(blank=True, help_text='Staff member this person reports to', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='direct_reports', to='hr.staffprofile')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('user', models.OneToOneField(help_text='User account for this staff member', on_delete=django.db.models.deletion.CASCADE, related_name='staff_profile', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Staff Profile',
                'verbose_name_plural': 'Staff Profiles',
                'ordering': ['user__last_name', 'user__first_name'],
            },
        ),
        migrations.CreateModel(
            name='StaffPositionHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('start_date', models.DateField(help_text='Start date in this position')),
                ('end_date', models.DateField(blank=True, help_text='End date in this position (null if current)', null=True)),
                ('change_reason', models.CharField(choices=[('HIRE', 'New Hire'), ('PROMOTION', 'Promotion'), ('TRANSFER', 'Transfer'), ('DEMOTION', 'Demotion'), ('RESTRUCTURE', 'Restructure'), ('LATERAL', 'Lateral Move'), ('ACTING', 'Acting Position'), ('RETURN', 'Return from Leave')], default='HIRE', help_text='Reason for position change', max_length=20)),
                ('salary_at_time', models.DecimalField(blank=True, decimal_places=2, help_text='Salary at the time of this position', max_digits=12, null=True)),
                ('notes', models.TextField(blank=True, help_text='Notes about this position change')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('department', models.ForeignKey(help_text='Department at the time', on_delete=django.db.models.deletion.PROTECT, related_name='position_history', to='hr.department')),
                ('position', models.ForeignKey(help_text='Position held', on_delete=django.db.models.deletion.PROTECT, related_name='position_history', to='hr.position')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('staff', models.ForeignKey(help_text='Staff member this history belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='position_history', to='hr.staffprofile')),
            ],
            options={
                'verbose_name': 'Staff Position History',
                'verbose_name_plural': 'Staff Position Histories',
                'ordering': ['-start_date'],
            },
        ),
        migrations.CreateModel(
            name='PerformanceReview',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('review_period_start', models.DateField(help_text='Start of review period')),
                ('review_period_end', models.DateField(help_text='End of review period')),
                ('review_type', models.CharField(choices=[('PROBATION', 'Probation Review'), ('QUARTERLY', 'Quarterly Review'), ('ANNUAL', 'Annual Review'), ('ADHOC', 'Ad-hoc Review')], default='ANNUAL', help_text='Type of review', max_length=20)),
                ('overall_rating', models.DecimalField(blank=True, decimal_places=2, help_text='Overall performance rating (1-5)', max_digits=3, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('achievements', models.TextField(blank=True, help_text='Key achievements during review period')),
                ('areas_for_improvement', models.TextField(blank=True, help_text='Areas identified for improvement')),
                ('goals_next_period', models.TextField(blank=True, help_text='Goals set for next review period')),
                ('manager_comments', models.TextField(blank=True, help_text='Overall manager comments')),
                ('employee_comments', models.TextField(blank=True, help_text='Employee self-assessment comments')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SELF_REVIEW', 'Self Review'), ('MANAGER_REVIEW', 'Manager Review'), ('ACKNOWLEDGED', 'Acknowledged'), ('COMPLETED', 'Completed')], default='DRAFT', help_text='Review status', max_length=20)),
                ('review_date', models.DateField(blank=True, help_text='Date review was conducted', null=True)),
                ('acknowledged_at', models.DateTimeField(blank=True, help_text='When employee acknowledged the review', null=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
                ('reviewed_by', models.ForeignKey(blank=True, help_text='Manager who conducted the review', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='reviews_conducted', to='hr.staffprofile')),
                ('staff', models.ForeignKey(help_text='Staff member being reviewed', on_delete=django.db.models.deletion.CASCADE, related_name='performance_reviews', to='hr.staffprofile')),
            ],
            options={
                'verbose_name': 'Performance Review',
                'verbose_name_plural': 'Performance Reviews',
                'ordering': ['-review_period_end'],
            },
        ),
        migrations.AddField(
            model_name='department',
            name='head',
            field=models.ForeignKey(blank=True, help_text='Staff member who heads this department', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='headed_departments', to='hr.staffprofile'),
        ),
        migrations.CreateModel(
            name='StaffTaskAssignment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_deleted', models.BooleanField(default=False)),
                ('deleted_at', models.DateTimeField(blank=True, null=True)),
                ('period_start', models.DateField(help_text='Start of tracking period')),
                ('period_end', models.DateField(help_text='End of tracking period')),
                ('status', models.CharField(choices=[('NOT_STARTED', 'Not Started'), ('IN_PROGRESS', 'In Progress'), ('COMPLETED', 'Completed'), ('DEFERRED', 'Deferred'), ('CANCELLED', 'Cancelled')], default='NOT_STARTED', help_text='Current status of task', max_length=20)),
                ('completion_date', models.DateField(blank=True, help_text='Date task was completed', null=True)),
                ('self_rating', models.PositiveIntegerField(blank=True, help_text='Self-assessment rating (1-5)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('self_comments', models.TextField(blank=True, help_text='Self-assessment comments')),
                ('manager_rating', models.PositiveIntegerField(blank=True, help_text='Manager assessment rating (1-5)', null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('manager_comments', models.TextField(blank=True, help_text='Manager assessment comments')),
                ('assessed_at', models.DateTimeField(blank=True, help_text='When assessment was completed', null=True)),
                ('assessed_by', models.ForeignKey(blank=True, help_text='Manager who assessed this task', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='assessments_given', to='hr.staffprofile')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_created', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='%(class)s_deleted', to=settings.AUTH_USER_MODEL)),
                ('staff', models.ForeignKey(help_text='Staff member assigned to this task', on_delete=django.db.models.deletion.CASCADE, related_name='task_assignments', to='hr.staffprofile')),
                ('task', models.ForeignKey(help_text='Task being tracked', on_delete=django.db.models.deletion.CASCADE, related_name='assignments', to='hr.positiontask')),
                ('updated_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='%(class)s_updated', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Staff Task Assignment',
                'verbose_name_plural': 'Staff Task Assignments',
                'ordering': ['-period_start', 'task__sort_order'],
                'unique_together': {('staff', 'task', 'period_start', 'period_end')},
            },
        ),
    ]
